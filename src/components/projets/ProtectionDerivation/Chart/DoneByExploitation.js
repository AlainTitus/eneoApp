import React from 'react';
import { Paper, Grid } from '@mui/material';
import Chart from "chart.js/auto";
import { CategoryScale } from "chart.js";
import { Line, Bar } from 'react-chartjs-2';

Chart.register(CategoryScale);

const DoneByExploitation = ({ derivations }) => {
    const Bertoua = derivations.filter(derivation => derivation.exploitation === 'BERTOUA').length;
    const Batouri = derivations.filter(derivation => derivation.exploitation === 'BATOURI').length;
    const Belabo = derivations.filter(derivation => derivation.exploitation === 'BELABO').length;
    const AbongMbang = derivations.filter(derivation => derivation.exploitation === 'ABONG MBANG').length;
    const Lomie = derivations.filter(derivation => derivation.exploitation === 'LOMIE').length;
    const Yokadouma = derivations.filter(derivation => derivation.exploitation === 'YOKADOUMA').length;
    const Moloundou = derivations.filter(derivation => derivation.exploitation === 'MOLOUNDOU').length;
    const GarouaBoulai = derivations.filter(derivation => derivation.exploitation === 'GAROUA BOULAI').length;
    const BetareOya = derivations.filter(derivation => derivation.exploitation === 'BETARE OYA').length;

    const labels = ["Bertoua", "Batouri", "Belabo", "Abong Mbang", "Lomie", "Yokadouma", "Moloundou", "Garoua Boulai", "Betare Oya",];
    const realisations = [Bertoua, Batouri, Belabo, AbongMbang, Lomie, Yokadouma, Moloundou, GarouaBoulai, BetareOya,];
    const derivationParExploitation = [5, 4, 5, 4, 5, 4, 5, 4, 5];
    const data = {
        labels: labels,
        datasets: [
            {
                fill: true,
                label: "Deriv protégée par Exploit",
                backgroundColor: ["rgba(255, 99, 132, 0.5)"],
                borderColor: ["rgb(255, 99, 132)"],
                data: realisations
            },
            {
                fill: true,
                label: "Nbr deriv par Exploit",
                backgroundColor: ["rgba(52, 152, 219, 0.5)"],
                borderColor: ["rgb(52, 152, 219)"],
                data: derivationParExploitation
            },
        ],
    };

    return (
        <Paper style={{ width: '500px', marginBottom: '10px' }} elevation={10}>
            <Line
                data={data}
                options={{
                    plugins: {
                        display: true,
                        text: "Réalisations par départ 2023"
                    }
                }}
            />
        </Paper>
    )
}

export default DoneByExploitation
